<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Getting Started</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="The NDManager Handbook"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Introduction"
HREF="c38.html"><LINK
REL="NEXT"
TITLE="Example 2 (dual-Spike2)"
HREF="x182.html"></HEAD
><BODY
CLASS="chapter"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>The <SPAN
CLASS="application"
>NDManager</SPAN
> Handbook</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="c38.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x182.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="chapter"
><H1
><A
NAME="getting-started"
></A
>Chapter 2. Getting Started</H1
><P
>&#13;	Have you skipped the <A
HREF="c38.html"
>Introduction</A
>? Please go back and read it, it does contain useful information!
	</P
><P
>&#13;	This chapter will demonstrate how to process example data using <SPAN
CLASS="application"
>NDManager</SPAN
>. More detailed information about customization options are provided in the following chapters.
	</P
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="example1"
>2.1. Example 1 (Spike2)</A
></H1
><P
>&#13;		The example data consists of three days of recordings (July 18-20, 2011). Each day, three sessions were run: baseline in home cage, run on a maze, and sleep. On July 20, there was even a fourth session where the animal explored a second maze. The recording setup used Spike2 acquisition software (CED, Cambridge, UK). Brain signals were sampled at 19531.25 Hz from 8 tetrodes (32 channels), and video was sampled at 25 Hz at 320x240 pixels.
		</P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="example1-preparing"
>2.1.1. Preparing the Data Files</A
></H2
><P
>&#13;			Initially, the data files are located in three different directories:
			</P
><DIV
CLASS="mediaobject"
><P
><IMG
SRC="Images/example1-initial.png"></P
></DIV
><P
>&#13;			Right-click a directory and select <SPAN
CLASS="guimenu"
>Action</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Prepare for NDManager</SPAN
>. This only works with a KDE file manager, but the same result can be achieved from a shell by typing: <PRE
CLASS="programlisting"
> ndm_prepare "July 18, 2011" </PRE
> This will start a graphical dialog where you can provide the information required to rename the files:
			</P
><DIV
CLASS="mediaobject"
><P
><IMG
SRC="Images/example1-prepare1.png"></P
></DIV
><P
>&#13;			The <SPAN
CLASS="guilabel"
>Recording Setups</SPAN
> entry is an arbitrary suffix that will be used to separate the original and processed files (see below). Here we choose <KBD
CLASS="userinput"
>CED</KBD
>. A more advanced use case will be presented in <A
HREF="x182.html"
>Example 2</A
>.
			</P
><P
>&#13;			Click <SPAN
CLASS="guibutton"
>OK</SPAN
>. In the next dialog, you can check and confirm the information you provided before the files are actually renamed:
			</P
><DIV
CLASS="mediaobject"
><P
><IMG
SRC="Images/example1-prepare2.png"></P
></DIV
><P
>&#13;			Click <SPAN
CLASS="guibutton"
>OK</SPAN
>. You are now presented with a list that is intended to help you find missing files:
			</P
><DIV
CLASS="mediaobject"
><P
><IMG
SRC="Images/example1-check.png"></P
></DIV
><P
>&#13;			Had a file been missing, e.g. the video for the sleep session, a red cross would have appeared next to its name (see <A
HREF="x182.html#example2-missing"
>Example 2</A
>).
			</P
><P
>&#13;			Prepare the other two directories. Your data files should now look like:
			</P
><DIV
CLASS="mediaobject"
><P
><IMG
SRC="Images/example1-prepared.png"></P
></DIV
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="example1-parameters"
>2.1.2. Creating a Template Parameter File</A
></H2
><P
>&#13;			Open <SPAN
CLASS="application"
>NDManager</SPAN
>. To create a custom template parameter file from a standard template, select <SPAN
CLASS="guimenu"
>File</SPAN
>-&gt;<SPAN
CLASS="guimenuitem"
>Use Template...</SPAN
> and select <TT
CLASS="filename"
>Template-8-tetrodes-20000Hz.xml</TT
> in <TT
CLASS="filename"
>/usr/share/ndmanager/templates/</TT
>. In the <SPAN
CLASS="guilabel"
>General</SPAN
> page, enter the name of the experimenter(s) and a description of the experiment (ignore the date and notes). In the <SPAN
CLASS="guilabel"
>Acquisition System</SPAN
> page, change the sampling rate (19531.25). In the <SPAN
CLASS="guilabel"
>Video</SPAN
> page, enter the sampling rate (25), width (320) and height (240).
			</P
><P
>&#13;			The <SPAN
CLASS="guilabel"
>Anatomical Groups</SPAN
> and <SPAN
CLASS="guilabel"
>Spike Groups</SPAN
> pages are already filled. Each line lists the channels belonging to the corresponding tetrode: <SPAN
CLASS="guilabel"
>0 1 2 3</SPAN
> for line 1, <SPAN
CLASS="guilabel"
>4 5 6 7</SPAN
> for line 2... <SPAN
CLASS="guilabel"
>28 29 30 31</SPAN
> for line 8 (note that channels are numbered from 0). Also indicated are the number of samples per waveform to extract from the wideband data (32 is appropriate for approximately 20 kHz), the location of the peak sample (16, i.e. at the center), and the number of features per channel for the PCA (in practice, a value of 3 is appropriate for a tetrode).
			</P
><DIV
CLASS="mediaobject"
><P
><IMG
SRC="Images/example1-spikegroups.png"></P
></DIV
><P
>&#13;			Now go to the <SPAN
CLASS="guilabel"
>Scripts</SPAN
> page, click <SPAN
CLASS="guibutton"
>Load...</SPAN
> and load all the script descriptions located in <TT
CLASS="filename"
>/usr/share/ndmanager/descriptions/</TT
> (not all of them are relevant here, but you can safely load and ignore them). The scripts are now listed under the <SPAN
CLASS="guilabel"
>Scripts</SPAN
> entry. Select them one by one and set the parameter values to suit your needs. Use the <SPAN
CLASS="guilabel"
>Help</SPAN
> tabs to get information about the meaning of each parameter. In many cases, default values are provided.
			</P
><P
>&#13;			One special (and recurring) parameter deserves special attention: <SPAN
CLASS="guilabel"
>suffixes</SPAN
>. This is the suffix that was provided when the data files were prepared, in <SPAN
CLASS="guilabel"
>Recording Setups</SPAN
>. In this example, the suffix is <KBD
CLASS="userinput"
>CED</KBD
>. For instance, here is the page for <SPAN
CLASS="application"
>ndm_start</SPAN
>:
			</P
><DIV
CLASS="mediaobject"
><P
><IMG
SRC="Images/example1-suffix.png"></P
></DIV
><P
>&#13;			Save the file as e.g. <TT
CLASS="filename"
>8-tetrodes.xml</TT
> next to your data directories, and quit.
			</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="example1-process"
>2.1.3. Processing the Data</A
></H2
><P
>&#13;			Now open a terminal, cd to the directory where your data is located, and type: <PRE
CLASS="programlisting"
> ndm_start 8-tetrodes.xml Example1-20110718 Example1-20110719 Example1-20110720</PRE
> and let <SPAN
CLASS="application"
>NDManager</SPAN
> automatically process all your data. Here is a brief extract of the output messages:
			</P
><DIV
CLASS="mediaobject"
><P
><IMG
SRC="Images/example1-processing1.png"></P
></DIV
><P
>&#13;			... and here is a second extract:
			</P
><DIV
CLASS="mediaobject"
><P
><IMG
SRC="Images/example1-processing2.png"></P
></DIV
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="c38.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x182.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Introduction</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Example 2 (dual-Spike2)</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>